<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HiGlass</title>
  <link rel="stylesheet" href="hglib.css" />

  <style type="text/css">
    #demo {
      position: absolute;
      left: 1rem;
      top: 1rem;
      bottom: 1rem;
      right: 1rem;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <div id="demo"></div>
</body>
<script src="hglib.js"></script>
<script>
  const viewConfig = {
    editable: true,
    trackSourceServers: ['/api/v1', 'http://higlass.io/api/v1'],
    exportViewUrl: '/api/v1/viewconfs',
    views: [
      {
        initialXDomain: [1584745596.7664106, 1584783465.0108025],
        initialYDomain: [-2971966894.9253473, -2971934468.4879274],
        tracks: {
          top: [
            {
              type: 'top-axis',
              local: true,
              orientation: '1d-horizontal',
              thumbnail: {},
              defaultOptions: {},
              server: '',
              tilesetUid: 'CVn916-1RB2N6MRUf_-vJA',
              uid: 'a-SOqz0cQcalG-vqiqF6iw',
              options: {},
              width: 20,
              height: 20,
            },
            {
              type: 'bedlike',
              uid: 'My8rpIzFQt2B2ShfssLzew',
              tilesetUid: 'dTfhbLW5Rrejf_vhzcLfbw',
              server: 'http://localhost:8000/api/v1',
              options: {
                alternating: false,
                annotationStyle: 'box',
                fillColor: 'blue',
                fillOpacity: 0.3,
                fontSize: '10',
                axisPositionHorizontal: 'right',
                labelColor: 'black',
                labelPosition: 'hidden',
                labelLeftMargin: 0,
                labelRightMargin: 0,
                labelTopMargin: 0,
                labelBottomMargin: 0,
                minHeight: 20,
                maxAnnotationHeight: null,
                trackBorderWidth: 0,
                trackBorderColor: 'black',
                valueColumn: null,
                colorEncoding: 'itemRgb',
                showTexts: false,
                colorRange: [
                  '#000000',
                  '#652537',
                  '#bf5458',
                  '#fba273',
                  '#ffffe0',
                ],
                colorEncodingRange: false,
                separatePlusMinusStrands: true,
                annotationHeight: 'scaled',
                name: 'E14wt_polished_chr15.vcf.gz',
              },
              width: 675,
              height: 130,
            },
          ],
          left: [],
          center: [],
          bottom: [],
          right: [],
          whole: [],
          gallery: [],
        },
        layout: {
          w: 12,
          h: 12,
          x: 0,
          y: 0,
        },
        uid: 'cOeYkcWIQwKoLf3-c9nWyQ',
      },
    ],
    zoomLocks: {
      locksByViewUid: {},
      locksDict: {},
    },
    locationLocks: {
      locksByViewUid: {},
      locksDict: {},
    },
    valueScaleLocks: {
      locksByViewUid: {},
      locksDict: {},
    },
  };

  // setTimeout(function () {
  //   // Go to PTEN
  //   window.hgApi.goTo(
  //     testViewConfig.views[0].uid,
  //     'chr10',
  //     89596071,
  //     89758810,
  //     'chr10',
  //     89596071,
  //     89758810,
  //     true,
  //     10000
  //   );
  // }, 3000);

  // setTimeout(function () {
  //   // Go to Chr1 without animation
  //   window.hgApi.goTo(
  //     testViewConfig.views[0].uid,
  //     'chr1',
  //     0,
  //     89758810,
  //     'chr1',
  //     0,
  //     89758810
  //   );
  // }, 11000);

  const hgApi = hglib.viewer(document.getElementById('demo'), viewConfig, {
    bounded: true,
  });
</script>
<script>
  (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    (i[r] =
      i[r] ||
      function() {
        (i[r].q = i[r].q || []).push(arguments);
      }),
      (i[r].l = 1 * new Date());
    (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m);
  })(
    window,
    document,
    'script',
    'https://www.google-analytics.com/analytics.js',
    'ga',
  );
  // =======
  // const hgApi = hglib.viewer(
  //   document.getElementById('demo'),
  //   viewConfig,
  //   { bounded: true },
  // );
  // >>>>>>> develop

  // hgApi.setBroadcastMousePositionGlobally(true);

  // hgApi.on('viewConfig', () => {
  //   console.log('View Config changed');
  // });
</script>
